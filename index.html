<!DOCTYPE html>
<html lang=fr>
  <meta charset=UTF-8>
  <meta name=viewport content="width=device-width", initial-scale=1.0>
  <meta http-equiv=X-UA-Compatible content="ie=edge">
  <title>Daktary : Lecteur de ressources Github</title>
  <link rel=stylesheet href=./css/reset.css>
  <link rel=stylesheet href=./css/daktary.css>
  <link rel=stylesheet href=./css/blob.css>

  <a name=top></a>
  <main class=container id=ghBlob>
    <aside class=ghBlobTools>
      <a href="" title="Voir sur Github" class="ghBlobLink tooltip" id=ghBlobUrl></a>
      <a href="#top" class="page-top">Haut de page</a>
    </aside>
    <article id=ghBlobContent></article>
  </main>

  <script type=text/javascript src=./src/daktary.js></script>
  <script type=text/javascript src=./src/dom.js></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      dom.setHrefForBlobGhLink()
      dom.injectBlobInHtml(daktary.getBlobFromGh(dom.getHash()))
    })
    window.addEventListener('hashchange', evt => {
      const anchor = dom.getAnchorOfHash() 
      if (!! anchor) {
        anchor.scrollIntoView()
        window.location = evt.oldURL
      } else {
        dom.setHrefForBlobGhLink()
        dom.injectBlobInHtml(daktary.getBlobFromGh(dom.getHash()))
      }
    })
  </script>
</html>
